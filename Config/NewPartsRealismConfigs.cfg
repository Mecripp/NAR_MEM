@PART[MEMAscentCabin]:NEEDS[RealismOverhaul]
{
	@title = North American Rockwell Mars Excursion Module Ascent Module Cabin
	@manufacturer = North American Rockwell Space Division
	@description = Cozy bed for the Mars Excursion Module. Works as ascent module, too.
	
	@rescaleFactor = 1
	//Whole Module 1.068  Assume the cabin contains the majority of the mass for the dry ascent stage.
	@mass = 0.73
	

	!MODULE[ModuleReactionWheel] {}
	!MODULE[ModuleResourceConverter] {}
	

	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 7270
		basemass = -1
		


		//FUEL CELL
		TANK
		{
			name = LqdHydrogen
			//1093
			amount = 151.027
			maxAmount = 151.027
		}
		TANK
		{
			name = LqdOxygen
			//706
			amount = 191.53
			maxAmount = 191.53
		}
		
		//Life support. According to projecthro, 835kg max
		TANK
		{
			name = ElectricCharge
			amount = 50400
			maxAmount = 50400
		}
		TANK
		{
			name = Oxygen
			//79890
			amount = 72000
			maxAmount = 72000
		}
		TANK
		{
			name = Water
			//400
			amount = 224	
			maxAmount = 224
		}
		TANK
		{
			name = Food
			amount = 737.1
			maxAmount = 737.1
		}
		TANK
		{
			name = LithiumHydroxide
			//61.8
			amount = 13
			maxAmount = 13
		}
		TANK
		{
			name = CarbonDioxide
			amount = 0
			maxAmount = 40000
		}
		TANK
		{
			name = Waste
			amount = 0
			maxAmount = 65
		}
		TANK
		{
			name = WasteWater
			amount = 0
			maxAmount = 618
		}
	}
	
	//TAC fuel cells and CO2 scrubber
	MODULE
	{
		name = TacGenericConverter
		converterName = Fuel Cell 1
		conversionRate = 1.0
		inputResources = LqdHydrogen, 0.00017573, LqdOxygen, 0.00022286
		outputResources = Water, 0.0002586364, true, ElectricCharge, 1.0, true, Oxygen, 0.0001337, true
	}
	MODULE
	{
		name = TacGenericConverter
		converterName = Fuel Cell 2
		conversionRate = 1.0
		inputResources = LqdHydrogen, 0.00017573, LqdOxygen, 0.00022286
		outputResources = Water, 0.0002586364, true, ElectricCharge, 1.0, true, Oxygen, 0.0001337, true
	}
	MODULE
	{
		name = TacGenericConverter
		converterName = CO2 Scrubber
		conversionRate = 3.0	// # of people - Figures based on per/person
		inputResources = CarbonDioxide, 0.006216, ElectricCharge, 0.010, LithiumHydroxide, 0.00001189
		outputResources = Waste, 0.00003932, false
	}
}

@PART[MEMAscentBody]:NEEDS[RealismOverhaul]
{
	@title = North American Rockwell Mars Excursion Module Ascent Module
	@manufacturer = North American Rockwell Space Division
	@description = Cozy bed for the Mars Excursion Module. Works as ascent module, too.
	
	@rescaleFactor = 1
	//Whole Module 1.068  Assume the cabin contains the majority of the mass for the dry ascent stage.

	@mass = 0.254
	
	!RESOURCE[Oxidizer] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[MonoPropellant] {}
	
	!MODULE[ModuleReactionWheel] {}
	!MODULE[ModuleResourceConverter] {}
	
	@MODULE[ModuleRCS]
	{
		thrusterPower = 4.8  // Query
		resourceFlowMode = STACK_PRIORITY_SEARCH
		PROPELLANT
		{
			name = Hydrazine
			ratio = 0.5
		}
		PROPELLANT
		{
			name = ClF5
			ratio = 0.5
		}
		atmosphereCurve
		{
			key = 0 336
			key = 1 260
		}
	}
	
	MODULE
	{
		name = ModuleFuelTanks
		type = ServiceModule
		volume = 7270
		basemass = -1
		
		//FUEL (3,742t of complexive fuel for stage II)
		TANK
		{
			name = LqdMethane
			amount = 1490
			maxAmount = 1490
		}
		TANK
		{
			name = FLOX88
			amount = 2120
			maxAmount = 2120
		}
		
		//RCS
		TANK
		{
			name = Hydrazine
			amount = 300
			maxAmount = 300
		}
		TANK
		{
			name = ClF5
			amount = 300
			maxAmount = 300
		}
		

	}
	

}


@PART[MEMChuteFrame]:NEEDS[RealismOverhaul]
{
	@title = North American Rockwell Mars Excursion Module Ascent Module Cap aka chute frame
	@manufacturer = North American Rockwell Space Division
	@description = Cozy bed for the Mars Excursion Module. Works as ascent module, too.
	
	@rescaleFactor = 1
	//Whole Module 1.068  Assume the cabin contains the majority of the mass for the dry ascent stage.

	@mass = 0.084
	
}


@PART[MEMBallute]:NEEDS[RealismOverhaul]
{
	@manufacturer = North American Rockwell Space Division
	@rescaleFactor = 1.0
	@mass = 0.1

	!MODULE[ModuleParachute]{}
	!MODULE[RealChuteFAR]{}
	MODULE
	{
		name = RealChuteModule
		caseMass = 0.02
		timer = 0
		mustGoDown = true
		cutSpeed = 2
		spareChutes = 1
		
		// Single main chute
		PARACHUTE
		{
			
			material = Nomex
			capName = ChuteUnitCover
			parachuteName = Ballute
			preDeploymentAnimation = Stage1
			deploymentAnimation = Stage2
			preDeployedDiameter = 11
			deployedDiameter = 28
			minIsPressure = false
			minDeployment = 55000
			deploymentAlt = 15000
			cutAlt = -1
			preDeploymentSpeed = 2
			deploymentSpeed = 6

		}
	}
	EFFECTS
	{
		rcpredeploy
		{
			AUDIO
			{
				channel = Ship
				clip = sound_parachute_open
				volume = 1
			}
		}

		rcdeploy
		{
			AUDIO
			{
				channel = Ship
				clip = sound_parachute_single
				volume = 1
			}
		}

		rccut
		{
			AUDIO
			{
				channel = Ship
				clip = RealChute/Sounds/sound_parachute_cut
				volume = 1
			}
		}

		rcrepack
		{
			AUDIO
			{
				channel = Ship
				clip = RealChute/Sounds/sound_parachute_repack
				volume = 1
			}
		}
	}

}


@PART[MEM_Drogue]:NEEDS[RealismOverhaul]
{
	@manufacturer = North American Rockwell Space Division
	@rescaleFactor = 1.0
	@mass = 0.1
	!MODULE[ModuleParachute]{}
	!MODULE[RealChuteFAR]{}
	MODULE
	{
		name = RealChuteModule
		caseMass = 0.02
		timer = 0
		mustGoDown = true
		cutSpeed = 200
		spareChutes = 3
		
		// Single main chute
		PARACHUTE
		{
			material = Nomex
			capName = ChuteUnitCover
			parachuteName = NewDrogue
			preDeploymentAnimation = Stage1
			deploymentAnimation = Stage2
			preDeployedDiameter = 5
			deployedDiameter = 16
			minIsPressure = false
			minDeployment = 75000
			deploymentAlt = 15000
			cutAlt = -1
			preDeploymentSpeed = 2
			deploymentSpeed = 6
		}
	}
	EFFECTS
	{
		rcpredeploy
		{
			AUDIO
			{
				channel = Ship
				clip = sound_parachute_open
				volume = 1
			}
		}

		rcdeploy
		{
			AUDIO
			{
				channel = Ship
				clip = sound_parachute_single
				volume = 1
			}
		}

		rccut
		{
			AUDIO
			{
				channel = Ship
				clip = RealChute/Sounds/sound_parachute_cut
				volume = 1
			}
		}

		rcrepack
		{
			AUDIO
			{
				channel = Ship
				clip = RealChute/Sounds/sound_parachute_repack
				volume = 1
			}
		}
	}
}
